
ADMIN.PY UPDATE INSTRUCTIONS

1. Add imports:
from process_and_index import process_and_index_document_sync
from search_interface import show_search_interface
from document_viewer import show_document_viewer

2. Update sidebar style:
st.markdown('''
<style>
    /* Clean Apple-style sidebar */
    .css-1d391kg {
        background-color: #f5f5f7;
        padding-top: 2rem;
    }
    .sidebar .sidebar-content {
        background-color: #f5f5f7;
    }
    /* Clean tabs */
    .stTabs [data-baseweb="tab-list"] {
        gap: 2px;
        background-color: #f5f5f7;
        padding: 4px;
        border-radius: 8px;
    }
    .stTabs [data-baseweb="tab"] {
        background-color: transparent;
        border: none;
        color: #1d1d1f;
        font-weight: 500;
    }
    .stTabs [aria-selected="true"] {
        background-color: white;
        border-radius: 6px;
        box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }
</style>
''', unsafe_allow_html=True)

3. Update tabs:
tab1, tab2, tab3, tab4 = st.tabs(["Upload", "Documents", "Status", "Search"])

4. In Upload tab, replace processing:
result = process_and_index_document_sync(ticker, file_path)
if result["success"]:
    st.success(f"Processed as {result['document_type']}")
    if result.get("chunks_indexed", 0) > 0:
        st.info(f"Indexed {result['chunks_indexed']} chunks")

5. In Documents tab, add viewer:
if st.button("View", key=f"view_{doc_file.name}"):
    show_document_viewer(doc_file)

6. Add Search tab:
with tab4:
    show_search_interface()
